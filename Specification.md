[역할]
당신은 프로 개발자입니다.
프론트엔드와 백엔드를 모두 개발할 수 있으며, 주어진 작업을 정확하게 이해하고 수행합니다.
개발하면서 이모티콘은 직접적인 지시가 없는경우 사용하지 않습니다.
기본적인 글로벌 제품을 개발하는 역량을 가지고 있어, 모든 시간은 utc로 저장하고, 화면에 보여줄 때는 kst로 변환하는 등
전문적인 지식을 가지고 있습니다.

아래 개발환경과 제품에 대한 설명과 내용을 확인하고 작업할 항목들을 분류하여, 빠르게 개발해서 테스트할 수 있도록 작업합니다.
작업은 꽤 세부적으로 분류하고 진행합니다.

제품명은 HyperSignal입니다.

[개발환경]
Python3.12
FastAPI
MongoDB
LangGraph
React19
Vite
Typescript
Tailwind
duckdb
ChatGPT
Echart

[개발제품]
채팅으로 데이터를 조회하고 에이전트와 함께 탐색하는 데이터 활용 도구

[개발제품상세내용]
사용자가 업로드한 csv, excel파일을 인코딩확인 후 parquet파일로 변환하고, 변환 시 일자컬럼이 있다면, 파티셔닝을 합니다.
사용자가 업로드한 parquet파일은 duckdb엔진을 통해 조회되고 AI Agent와 함께 사용자에게 데이터 탐색 정보를 제공합니다.

[개발기능]
1. csv,excel 파일 업로드 및 인코딩 후 parquet파일 변환, 일자컬럼 존재시 파티셔닝, parquet로 변환후 전체 count수와, 컬럼정보는 mongodb에 메타로 저장, 업로드된 파일은 고유의 uuid를 가지며, 동일파일명 업로드 시 버전을 다르게 관리합니다.

2. 업로드된 파일을 읽어와서 화면에 보여줍니다. 화면에 보여진 파일은 클릭을 할 수 있으며, 클릭 시 채팅창이 활성화 됩니다.

3. 사용자는 새 대화를 만들 수 있고, 대화창과 2번에서 지시한 파일을 선택 후 대화를 시작할 수 있습니다.
3.1. 처음 대화가 활성화 되면 파일명과 컬럼 메타정보를 기반으로 추천질문을 4개 생성합니다. 
3.2. 대화창 위쪽에서는 선택된 파일과, 해당 파일의 count수와 컬럼정보에 대한 버튼이 존재합니다.
3.3. 버튼 클릭 시 컬럼정보가 팝업으로 뜨며, 컬럼이 긴경우 스크롤됩니다. 컬럼정보에서 object는 문자, int64는 숫자, date는 날짜 처럼 사용자친화적으로 보여줍니다.
3.4. 스크롤시 헤더와 겹치지 않게 보여야합니다.
3.5. 대화창에서 입력시 컬럼정보단어 자동완성이 되어야하며, 자동완성은 텝으로 합니다. 엔터는 질문입니다.
3.6. 질문에 대한 답변이 회신되면 포커스는 다시 채팅창으로 가서 사용자 경험을 자연스럽게 만들어줍니다.
3.7. 답변이 오는동안 상세한 정보가 0.00초 단위로 표기되며 해당 초는 하나의 대화에서만 유효합니다.
3.8. 질문의 의도를 파악합니다. [0.01], 데이터를 탐색합니다. [0.10] 데이터를 요약하고 있습니다. [0.50], 답변을 생성중입니다. [1.50] 이렇게 초단위로 표시되면 좋겠어. 빠르게 응답이 오는걸 보여주는게 핵심이야.
3.9. 마크다운도 구성하여 사용자가 어색하게 답변을 보는것은 방지합니다.

4. 사용자의 질문에 대해 에이전트가 duckdb의 데이터를 조회하고 답변해줍니다.
4.1. 에이전트는 아, 어, 음과 같은 의미 없는 질문을 하면 어떤 의미로 질문하신걸까요? 재질문을 합니다. 재질문시 3.1과 마찬가지로 추천질문을 제공합니다.
4.2. 메타정보를 참고해서 사용자의 질문의도가 해당 데이터 탐색과 관계가 없다면, 해당 데이터에 관련된 질문을 해보세요. 하고 재질문합니다. 이때도 재질문 예시를 알려줍니다.
4.3. 메타정보를 참고해서 사용자가 해당 정보에 대해 질문할 때는 답변합니다. duckdb를 통하는게 있는 메타정보에 있는 항목의 의미나 뜻 등은 답변을 해줍니다.
4.4. 사용자 대화에서 사용된 sql쿼리는 접힌 상태로 답변 하단에 나오게 됩니다.
4.5. 사용자 요청에 따라 차트를 제공할 경우 바차트 꺽은선 차트, 라인차트, 파이차트 등을 Echart로 구성하여 사용자에게 줍니다.

5. 채팅 히스토리를 관리합니다. 채팅 히스토리는 마찬가지로 mongodb에 저장됩니다.
5.1 채팅 히스토리는 언제든지 불러와서 채팅을 이어갈수있습니다.

6. 채팅 히스토리는 왼쪽, 업로드한 파일목록은 오른쪽에 표시합니다. 채팅은 사용자 입장에서 가운데 위치하게 됩니다.

7. UI는 세련된 형태로 AI의 느낌을 강하게 주는 것이 필요합니다. 빠르게 데이터를 탐색하고 답변을 제공하는 것이 핵심입니다.
7.1. UI는 포인트가 들어가는 색상이 있으면 좋겠습니다.

[환경구성]
mongodb의 포트는 27891을 사용합니다.
mongodb는 docker compose 형태로 구성해서 다른 컨테이너를 쉽게 추가할 수 있게 합니다.
벡엔드와 프론트엔드를 동시에 시작할 수 있는 시작스크립트와, 종료스크립트를 작성합니다. 종료 스크립트에는 최종적으로 pid를 확인하여 프로세스를 깔끔하게 정리합니다.
venv는 backend안쪽에 위치하게합니다.
에이전트와, api, mongodb, duckdb호출등 모든 이벤트에 log를 남겨추적가능하도록합니다.
log 디렉터리가 없는경우는 생성하고 log를 남깁니다.
log의 구조는 호출 이벤트, 시작시간, 종료시간, 소요시간등을 기록합니다.

[이후작업]
해당 작업지시서는 작업을 최종적으로 수행후 work_history 디렉터리를 만들어 해당 작업지시서를 정리합니다. work_history에는 작업을 진행하면서 작업했던 일들을 기록합니다. 이후 작업을 시킬 때 항상 작업에 대해 기억할 수 있도록 작업 방식등을 정리해둡니다.